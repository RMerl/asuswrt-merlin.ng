TODO:
- Clean up coding style to meet kernel standard.
