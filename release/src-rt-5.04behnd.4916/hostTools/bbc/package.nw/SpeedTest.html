<!doctypehtml><html lang=en><meta charset=utf-8><title>Broadcom Broadband Commander</title><meta content="width=device-width,initial-scale=2"name=viewport><meta content="ZiLiang Han"name=author><link href=img/icon.png rel="shortcut icon"><link href=css/bootstrap-simplex.css rel=stylesheet id=bs-css><link href=css/smart.css rel=stylesheet><link href=css/noty_theme_default.css rel=stylesheet><link href=css/animate.min.css rel=stylesheet><link href=bower_components/bootstrap/dist/css/bootstrap-slider.min.css rel=stylesheet><script src=bower_components/jquery/jquery.js></script><script src=bower_components/bootstrap/dist/js/bootstrap.js></script><script src=bower_components/bootstrap/dist/js/bootstrap-slider.min.js></script><script src=bower_components/chosen/chosen.jquery.js></script><script src=bower_components/moment/moment.min.js></script><script src=js/jquery.dataTables.min.js></script><script src=js/jquery.cookie.js></script><script src=js/jquery.history.js></script><script src=js/gauge.min.js></script><script src=brcm_js/smart.js></script><script src=brcm_js/protocol.js></script><script src=brcm_js/websocket.js></script><script src=brcm_js/utils.js></script><script src=brcm_js/targets.js></script><style>.btn-basic{background:#bdbdbd;color:#fff}.btn-circle{width:46px;height:46px;padding:10px 10px;border-radius:23px;text-align:center;font-size:14px}</style><script>var spd_ip,gauge_bcmDev,spd_beepEE=0,spd_gaugeScale=1,spd_duration=0,spd_port="5201",spd_pktSender=0,spd_protocol=0,spd_streams=1,spd_hwacce=0,spd_precheckDone=!1,spd_testOngoing=!1,spd_eeChecked=-1,spd_manualStop=!1,demo_duration=[10,3600],gauge_maxs=["100","1000","10000"],gauge_ticks=["0,10,20,30,40,50,60,70,80,90,100","0,100,200,300,400,500,600,700,800,900,1000","0,1000,2000,3000,4000,5000,6000,7000,8000,9000,10000"],gauge_highlights=['[     { "from": 0, "to": 20, "color": "rgba(0,255,0,.15)" },     { "from": 20, "to": 40, "color": "rgba(255,255,0,.15)" },     { "from": 40, "to": 60, "color": "rgba(255,30,0,.25)" },     { "from": 60, "to": 80, "color": "rgba(255,0,225,.25)" },     { "from": 80, "to": 100, "color": "rgba(0,0,255,.25)" }   ]','[     { "from": 0, "to": 200, "color": "rgba(0,255,0,.15)" },     { "from": 200, "to": 400, "color": "rgba(255,255,0,.15)" },     { "from": 400, "to": 600, "color": "rgba(255,30,0,.25)" },     { "from": 600, "to": 800, "color": "rgba(255,0,225,.25)" },     { "from": 800, "to": 1000, "color": "rgba(0,0,255,.25)" }   ]','[     { "from": 0, "to": 2000, "color": "rgba(0,255,0,.15)" },     { "from": 2000, "to": 4000, "color": "rgba(255,255,0,.15)" },     { "from": 4000, "to": 6000, "color": "rgba(255,30,0,.25)" },     { "from": 6000, "to": 8000, "color": "rgba(255,0,225,.25)" },     { "from": 8000, "to": 10000, "color": "rgba(0,0,255,.25)" }   ]'];function set_precheckState(e){spd_precheckDone=e;var t=document.getElementById("idBtnPreCheck");spd_precheckDone?Utils.replaceClass(t,"btn-success","btn-basic"):Utils.replaceClass(t,"btn-basic","btn-success"),spdTest_updateStartBtn()}function get_precheckState(){return spd_precheckDone}function set_testState(e){spd_testOngoing=e,spdTest_updateStartBtn()}function get_testState(){return spd_testOngoing}function gauge_init(){var e=document.getElementsByTagName("canvas");gauge_bcmDev=e[0]}function gauge_updateValue(e,t){gauge_bcmDev.setAttribute("data-value",e)}function spd_selectGaugeScale(e){var t=gauge_bcmDev;t.setAttribute("data-max-value",gauge_maxs[e]),t.setAttribute("data-major-ticks",gauge_ticks[e]),t.setAttribute("data-highlights",gauge_highlights[e]),spd_gaugeScale=e,localStorage.setItem("spd_gaugeScale",spd_gaugeScale)}function spd_selectEE(e){spd_beepEE=e,localStorage.setItem("spd_beepEE",spd_beepEE),set_precheckState(spd_beepEE==spd_eeChecked)}function spd_selectSender(e){spd_pktSender=e,localStorage.setItem("spd_pktSender",spd_pktSender)}function spd_selectProtocol(e){spd_protocol=e,localStorage.setItem("spd_protocol",spd_protocol)}function spd_selectStreams(e){spd_streams=e,localStorage.setItem("spd_streams",spd_streams)}function spd_selectHWAcce(e){spd_hwacce=e,localStorage.setItem("spd_hwacce",spd_hwacce)}function spdTest_Duration(e){var t=demo_duration[e];spd_duration=e,localStorage.setItem("spd_duration",spd_duration),document.getElementById("idtable_Stats").rows[1].cells[1].innerHTML=t}function spdTest_updateStartBtn(){var e=get_precheckState(),t=get_testState(),s=document.getElementById("idBtnStartTest");t?(Utils.hasClass(s,"btn-success")&&Utils.replaceClass(s,"btn-success","btn-danger"),s.innerText="Stop"):(s.innerText="Go!",Utils.hasClass(s,"btn-danger")&&Utils.replaceClass(s,"btn-danger","btn-success"),e?Utils.hasClass(s,"btn-basic")&&Utils.replaceClass(s,"btn-basic","btn-success"):Utils.hasClass(s,"btn-success")&&Utils.replaceClass(s,"btn-success","btn-basic"))}function spdTest_disableEESel(e){document.getElementById("idEESelected").disabled=!!e}function reset_statistics(){var e,t,s=document.getElementById("idtable_Stats"),a=s.getElementsByTagName("tr").length,o=s.rows[0].cells.length;for(e=1;e<a;e++)for(t=1;t<o;t++)s.rows[e].cells[t].innerHTML="-";s.rows[1].cells[1].innerHTML=demo_duration[spd_duration]}function start_test(){var e,t,s,a;if(gauge_updateValue(0,0),reset_statistics(),""!=(spd_ip=document.getElementById("serverIP").value)){""==(spd_port=document.getElementById("serverPort").value)&&(spd_port="5201"),e=parseInt(spd_port),t="0"==(spd_pktSender=document.getElementById("idPacketSender").value),s="0"==(spd_protocol=document.getElementById("idProtocol").value),a="1"==(spd_hwacce=document.getElementById("idHWAcceEnable").value);var o='{"serverIp":"'+spd_ip+'", "port":'+e+', "reverse":'+t+', "protocol":'+s+', "duration":'+demo_duration[spd_duration]+', "streams":'+spd_streams+', "hwacc":'+a+"}";Protocol.registerTasklet(TARGET_SPDTEST,CMD_SPDTEST_START,o.length,SPT_PROTOCOL_PLDTYPE_TXT,o,function(e,t,s){0!=e&&parent.showModal(t)},spdTest_notify_handler)}else parent.showModal("Please input server IP address")}function stop_test(){var e='{"level":1}';Protocol.sendPacket(TARGET_SPDTEST,CMD_SPDTEST_SHUTDOWN,e.length,SPT_PROTOCOL_PLDTYPE_TXT,e,function(e,t,s){0!=e?parent.showModal(t):(set_testState(!1),spdTest_disableEESel(!1))})}function spdTest_Start(){$("#idBtnStartTest").hasClass("btn-basic")||("Stop"==document.getElementById("idBtnStartTest").innerText?(spd_manualStop=!0,stop_test()):(spd_manualStop=!1,start_test()))}function spdTest_notify_handler(e,t,s){if(e==TARGET_SPDTEST){var a,o=0,r=0;if(0==t&&"null"!=s){var l=JSON.parse(s);if(0==l.type)a=!0,gauge_updateValue(o=l.senderBW,r=l.receiverBW);else if(1==l.type){var n;a=!1;var c=document.getElementById("idtable_Stats").getElementsByTagName("tr"),d=c[1],p=c[2];null!=(n=l.byteSent)&&(d.cells[2].innerHTML=n),null!=(n=l.byteReceived)&&(p.cells[2].innerHTML=n),null!=(n=l.senderBW)&&(o=n,d.cells[3].innerHTML=o),null!=(n=l.receiverBW)&&(r=n,p.cells[3].innerHTML=r),null!=l.totalPacket&&(d.cells[4].innerHTML=l.totalPacket),null!=l.lostPacket&&(p.cells[5].innerHTML=l.lostPacket),null!=l.retry&&(d.cells[6].innerHTML=l.retry),gauge_updateValue(o,r)}else 2==l.type&&(spd_manualStop||parent.showModal(l.message),a=!1);a!=spd_testOngoing&&set_testState(a)}}}function spdTest_prerequisiteCheck(){if(!$("#idBtnPreCheck").hasClass("btn-basic")){var e='{"beepEE":'+spd_beepEE+"}";Protocol.sendPacket(TARGET_SPDTEST,CMD_SPDTEST_PREREQ_CHK,e.length,SPT_PROTOCOL_PLDTYPE_TXT,e,function(e,t,s){0!=e?parent.showModal(t):(parent.showModal("SpeedTest: prerequisite check passed"),spd_eeChecked=spd_beepEE,set_precheckState(!0)),spdTest_disableEESel(!1)})}}function restore_context(){var e=localStorage.getItem("spd_gaugeScale");null!=e&&($("#idGaugeScale").val(e),spd_selectGaugeScale(e));var t=localStorage.getItem("spd_beepEE");null!=t&&(spd_beepEE=t,$("#idEESelected").val(spd_beepEE)),get_testState()&&(null!=(spd_ip=localStorage.getItem("spd_ip"))&&$("#serverIP").val(spd_ip),spd_port=localStorage.getItem("spd_port")),$("#serverPort").val(spd_port);var s=localStorage.getItem("spd_pktSender");null!=s&&(spd_pktSender=s,$("#idPacketSender").val(s));var a=localStorage.getItem("spd_protocol");null!=a&&(spd_protocol=a,$("#idProtocol").val(a));var o=localStorage.getItem("spd_streams");null!=o&&(spd_streams=o,$("#idParallelStreams").val(o));var r=localStorage.getItem("spd_hwacce");null!=r&&(spd_hwacce=r,$("#idHWAcceEnable").val(r));var l=localStorage.getItem("spd_duration");null!=l&&(spdTest_Duration(l),$("#idDuration").val(l))}function save_context(){get_testState()&&localStorage.setItem("spd_ip",spd_ip)}$(document).ready(function(){$(window).bind("beforeunload",function(){save_context(),Protocol.sendPacket(TARGET_SPDTEST,CMD_SPDTEST_SHUTDOWN,0,SPT_PROTOCOL_PLDTYPE_TXT,null,null)}),gauge_init(),Protocol.sendPacket(TARGET_SPDTEST,CMD_SPDTEST_GETSTATUS,0,SPT_PROTOCOL_PLDTYPE_TXT,null,function(e,t,s){0==e&&(null!=(e=JSON.parse(s))&&null!=e.precheckPassed&&(set_precheckState(e.precheckPassed),set_testState(e.testOngoing),spd_eeChecked=e.precheckPassed?e.currentEE:-1,get_testState()?Protocol.registerTasklet(TARGET_SPDTEST,CMD_SPDTEST_RESUME,0,SPT_PROTOCOL_PLDTYPE_TXT,null,null,spdTest_notify_handler):(localStorage.removeItem(spd_ip),localStorage.removeItem(spd_port)),restore_context(),get_precheckState()&&spdTest_updateStartBtn()))})})</script><div class=ch-container><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"id=content style=min-width:200px><div class=box><div class=box-inner><div class="box-header well"><h4> Speed Test</h4></div></div><div class="row box-content col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="box-icon col-md-4 col-sm-4 col-xs-4col-lg-4"></div><div class="box-icon col-md-4 col-sm-4 col-xs-4col-lg-4"><div class="row text-center"><canvas data-animated-value=true data-animation-duration=500 data-color-major-ticks=#f5f5f5 data-color-minor-ticks=#ddd data-color-needle-end="rgba(255, 160, 122, .9)"data-color-needle-start="rgba(240, 128, 128, 1)"data-color-numbers=#eee data-color-plate=#222 data-color-title=#fff data-color-units=#ccc data-font-value=Led data-height=200 data-highlights='[
                  { "from": 0, "to": 200, "color": "rgba(0,255,0,.15)" },
                  { "from": 200, "to": 400, "color": "rgba(255,255,0,.15)" },
                  { "from": 400, "to": 600, "color": "rgba(255,30,0,.25)" },
                  { "from": 600, "to": 800, "color": "rgba(255,0,225,.25)" },
                  { "from": 800, "to": 1000, "color": "rgba(0,0,255,.25)" }
                ]'data-major-ticks=0,100,200,300,400,500,600,700,800,900,1000 data-max-value=1000 data-min-value=0 data-minor-ticks=5 data-stroke-ticks=false data-title=false data-type=radial-gauge data-units=Mbps data-value=0 data-value-box=true data-width=200 id=idCanvasBrcmDevice></canvas></div><div class=row><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"><button class="btn btn-success btn-circle"id=idBtnStartTest onclick=spdTest_Start() type=button>Go!</button></div></div></div><div class="box-icon col-md-4 col-sm-4 col-xs-4col-lg-4"><div class=row><div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><span style=font-weight:700>Max Speed:</span></div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><select id=idGaugeScale style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onchange=spd_selectGaugeScale(this.value)><option value=0>100M<option value=1>1G<option value=2>10G</select></div></div><br><div class=row><div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><span style=font-weight:700>Select EE:</span></div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><select id=idEESelected style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onchange=spd_selectEE(this.value)><option value=0>HostEE<option value=1>BEE<option value=2>Docker<option value=3>OpenWRT<option value=4>OSGi<option value=5>ExampleEE<option value=6>ExampleEE2<option value=7>ExampleEE3</select></div></div><br><div class=row><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 box-icon"><a href=# id=idBtnPreCheck class="btn btn-success"onclick=spdTest_prerequisiteCheck() style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class=glyphicon style=vertical-align:middle;top:0></i> PREREQ Check</a></div></div></div></div><div class="row box-content"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><ul class="nav nav-tabs"id=BeepDemo><li class=active><a href=#SpeedTest id=SpeedTestTab data-toggle=tab><span style=font-weight:700>Config & Stats</span></a></ul><div class=tab-content id=resContent><div class="active fade in tab-pane"id=SpeedTest><div class="col-md-4 col-sm-4 col-lg-4 col-xs-4"><br><form class=needs-validation novalidate><div class=row><div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><label for=firstName><span style=font-weight:700>Server Address</span></label> <input class=form-control id=serverIP placeholder=""required value=192.168.1.100></div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><label for=lastName><span style=font-weight:700>Server Port</span></label> <input class=form-control id=serverPort placeholder=5201 required></div></div></form></div><div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"><br><div class=row><div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"><span style=font-weight:700>Packet Sender:</span></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><select id=idPacketSender style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onchange=spd_selectSender(this.value)><option value=0>Server<option value=1>Client</select></div><div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"><span style=font-weight:700>  Protocol Seletion:</span></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><select id=idProtocol style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onchange=spd_selectProtocol(this.value)><option value=0>TCP<option value=1>UDP</select></div></div><br><div class=row><div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"><span style=font-weight:700>Parallel Streams:</span></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><select id=idParallelStreams style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onchange=spd_selectStreams(this.value)><option value=1>1<option value=2>2<option value=3>3<option value=4>4<option value=5>5<option value=6>6<option value=7>7<option value=8>8</select></div><div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"><span style=font-weight:700>  HW Acceleration:</span></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><select id=idHWAcceEnable style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onchange=spd_selectHWAcce(this.value)><option value=0>Disabled<option value=1>Enabled</select></div></div><br><div class=row><div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"><span style=font-weight:700>Test Duration:</span></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><select id=idDuration style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onclick=spdTest_Duration(this.value)><option value=0>10 seconds<option value=1>1 hour</select></div></div><br></div><br><div><div class="col-lg-7 col-md-7 col-sm-7 col-xs-7"><table class="table table-hover"id=idtable_Stats><thead><tr><th scope=col>#<th scope=col>Time(s)<th scope=col>Transfer(MByte)<th scope=col>Bandwidth(Mbps)<th scope=col>Total Packet<th scope=col>Lost Packet<th scope=col>Retry<tbody><tr><td scope=row><span style=font-weight:700>Sender</span><td>10<td>-<td>-<td>-<td>-<td>-<tr><td scope=row><span style=font-weight:700>Receiver</span><td>-<td>-<td>-<td>-<td>-<td>-</table></div></div></div></div></div></div></div></div></div></div>
