<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
MKFATFS(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
MKFATFS(8)</td>
<td class="head-vol">
System Manager's Manual</td>
<td class="head-rtitle">
MKFATFS(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> mkfatfs - create a FAT file system</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>mkfatfs</b> [ <i>options</i>] <i>device</i></div>
<div class="section">
<h1>DESCRIPTION</h1> <b>mkfatfs</b> is used to create a FAT file system on a device (usually a disk or flash partition). <i>device</i> is the special file corresponding to the device (e.g. <i>/dev/sdXX,</i> <i>/dev/block/mmcblk1p1</i>).</div>
<div class="section">
<h1>OPTIONS</h1> Below is a summary of all the options that <b>mkfatfs</b> accepts.  Nearly all options have two equivalent names.  The short name is preceded by <b>-</b> and the long name is preceded by <b>--</b>.<dl>
<dt>
<b>-f</b>, <b>--force</b></dt>
<dd>
Allow formatting a FAT volume for which the physical sector size cannot be automatically detected (for example an image file).</dd>
</dl>
<dl>
<dt>
<b>--cp</b> CODEPAGE</dt>
<dd>
Use the given code page to encode the volume label. The following code pages are supported: 437, 737, 775, 850, 852, 855, 857, 860, 861, 862, 863, 864, 865, 866, 869, 874, 932, 936, 949, 950. The default is 437.</dd>
</dl>
<dl>
<dt>
<b>-l</b>, <b>--volume-label</b> STRING</dt>
<dd>
Set the volume label for the filesystem. The volume label can be up to 11 bytes long when encoded with code page specified by --cp option.</dd>
</dl>
<dl>
<dt>
<b>-i</b>, <b>--volume-id</b> STRING</dt>
<dd>
Sets the volume ID for the volume to <b>STRING</b>, which must be in the format XXXX-XXXX where X is a hexadecimal character (0-9, A-F).</dd>
</dl>
<dl>
<dt>
<b>-r</b>, <b>--rootdir-entries</b> NUMBER</dt>
<dd>
Set the count of 32 bytes directory entries in the root directory to <b>NUMBER</b>. For FAT32 volumes this value is ignored and set to zero. For FAT 12/16 volume the default value is 512.</dd>
</dl>
<dl>
<dt>
<b>-F</b>, <b>--fat-type</b> FATBITS</dt>
<dd>
Set the FAT bits for the volume to <b>FATBITS</b>. The legal values for this field are [12, 16, 32].</dd>
</dl>
<dl>
<dt>
<b>-S</b>, <b>--sector-size</b> SIZE</dt>
<dd>
Set the volume sector size (in bytes) to <b>SIZE</b>. The default is to detect sector size automatically. Note: This option should probably never be used when formatting devices directly as most FAT drivers won't be able to use a FAT volume where the volume sector size doesn't match the physical sector size.</dd>
</dl>
<dl>
<dt>
<b>-c</b>, <b>--cluster-size</b> SIZE</dt>
<dd>
Set the cluster size (in bytes) of the volume to <b>SIZE</b>. The default is to determine optimal cluster size automatically. The legal values for this field are powers of 2, such that  <b>SIZE</b> does not exceed 32 KiB.</dd>
</dl>
<dl>
<dt>
<b>-s</b>, <b>--sectors-per-cluster</b> VALUE</dt>
<dd>
Set the volume cluster size (in bytes) to <b>VALUE</b> * <b>sector_size</b>. The default value is calculated dynamically depending on FAT type (FAT 12/16/32) and the size of the volume. The legal values for this field are [1, 2, 4, 8, 16, 32, 64, 128], such that  <b>VALUE</b> * <b>sector_size</b> does not exceed 32 KiB.</dd>
</dl>
<dl>
<dt>
<b>-a</b>, <b>--alignment</b> VALUE</dt>
<dd>
Align the filesystem structures to <b>VALUE</b> bytes.<div style="height: 0.00em;">
&#160;</div>
<b>WARNING:</b> Don't use this in production unless explictly instructed by Tuxera. The default alignment is usually the appropriate one.</dd>
</dl>
<dl>
<dt>
<b>-v</b>, <b>--verbose</b></dt>
<dd>
Makes <b>mkfatfs</b> emit certain status messages related to the formatting process.</dd>
</dl>
<dl>
<dt>
<b>--discard</b></dt>
<dd>
This option sends a 'discard' command, like TRIM, to the device which will zero all data on it.</dd>
</dl>
<dl>
<dt>
<b>--secure-discard</b></dt>
<dd>
This option sends a 'secure discard' command, e.g. eMMC's secure erase, to the device which will zero all data on it. The difference from the  <b>--discard</b> option is that this command attempts to securely erase the data, guaranteeing that all internal copies of the discarded sectors are also erased. If the underlying hardware does not support this mode of operation, we fall back on a regular discard. This option is only available on systems where this is supported.</dd>
</dl>
</div>
<div class="section">
<h1>BUGS</h1> If you find a bug please send an email describing the problem to fat-support@tuxera.com.</div>
<div class="section">
<h1>AUTHORS</h1> <b>mkfatfs</b> was written by<div style="margin-left: 8.00ex;">
Erik Larsson, Tuxera Inc.<div style="height: 0.00em;">
&#160;</div>
Sougata Santra, Tuxera Inc.</div>
</div>
<div class="section">
<h1>AVAILABILITY</h1> <b>mkfatfs</b> is part of the <b>Tuxera FATprogs</b> package.</div>
<table class="foot">
<tr>
<td class="foot-date">
March 2014</td>
<td class="foot-os">
Tuxera TFATprogs 3017.7.17.3</td>
</tr>
</table>
</div>
</body>
</html>

