const LOCAL_DATA = {
	"LYRA_VOICE": [
		{
			"lang": "*",
			"uiModelName": "LYRA VOICE",
			"CoBrand": "*"
		}
	],
	"RT-AC57U_V2": [
		{
			"lang": "*",
			"uiModelName": "RT-AC57U V2",
			"CoBrand": "*"
		}
	],
	"RT-AC58U_V2": [
		{
			"lang": "*",
			"uiModelName": "RT-AC58U V2",
			"CoBrand": "*"
		}
	],
	"RT-AC1300G_PLUS_V2": [
		{
			"lang": "*",
			"uiModelName": "RT-AC1300G PLUS V2",
			"CoBrand": "*"
		}
	],
	"RT-AC1500G_PLUS": [
		{
			"lang": "*",
			"uiModelName": "RT-AC1500G PLUS",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_CT8": [
		{
			"lang": "*",
			"uiModelName": "ZenWiFi AC",
			"CoBrand": "*"
		},
		{
			"lang": "CN",
			"uiModelName": "灵耀AC3000",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_XT8": [
		{
			"lang": "*",
			"uiModelName": "ZenWiFi AX",
			"CoBrand": "*"
		},
		{
			"lang": "CN",
			"uiModelName": "灵耀AX6600",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_XD4": [
		{
			"lang": "*",
			"uiModelName": "ZenWiFi AX Mini",
			"CoBrand": "*"
		},
		{
			"lang": "CN",
			"uiModelName": "灵耀AX魔方",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_CD6R": [
		{
			"lang": "*",
			"uiModelName": "ZenWiFi AC Mini",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_CD6N": [
		{
			"lang": "*",
			"uiModelName": "ZenWiFi AC Mini",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_XP4": [
		{
			"lang": "*",
			"uiModelName": "ZenWiFi AX Hybrid",
			"CoBrand": "*"
		},
		{
			"lang": "CN",
			"uiModelName": "灵耀AX XP4",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_CV4": [
		{
			"lang": "*",
			"uiModelName": "ZenWiFi Voice",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_Pro_XT12": [
		{
			"lang": "CN",
			"uiModelName": "灵耀Pro AX11000",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_XD4_Pro": [
		{
			"lang": "CN",
			"uiModelName": "灵耀AX魔方Pro",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_XT9": [
		{
			"lang": "CN",
			"uiModelName": "灵耀AX7800",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_XD6": [
		{
			"lang": "CN",
			"uiModelName": "灵耀AX5400",
			"CoBrand": "*"
		}
	],
	"TUF-AX3000_V2": [
		{
			"lang": "CN",
			"uiModelName": "TUF GAMING 小旋风",
			"CoBrand": "*"
		}
	],
	"GT6": [
		{
			"lang": "CN",
			"uiModelName": "ROG魔方 • 幻",
			"CoBrand": "*"
		}
	],
	"TUF-AX4200Q": [
		{
			"lang": "CN",
			"uiModelName": "TUF GAMING 小旋风 Pro",
			"CoBrand": "*"
		}
	],
	"TUF-AX4200": [
		{
			"lang": "*",
			"uiModelName": "TUF GAMING AX4200",
			"CoBrand": "*"
		}
	],
	"TX-AX6000": [
		{
			"lang": "CN",
			"uiModelName": "天选游戏路由",
			"CoBrand": "*"
		}
	],
	"TUF-AX6000": [
		{
			"lang": "*",
			"uiModelName": "TUF GAMING AX6000",
			"CoBrand": "*"
		}
	],
	"GT-BE96": [
		{
			"lang": "CN",
			"uiModelName": "ROG 八爪鱼7",
			"CoBrand": "*"
		}
	],
	"TUF-BE3600": [
		{
			"lang": "CN",
			"uiModelName": "TUF GAMING 小旋风",
			"CoBrand": "*"
		}
	],
	"TUF-BE6500": [
		{
			"lang": "CN",
			"uiModelName": "TUF GAMING 小旋风 Pro WiFi7",
			"CoBrand": "*"
		}
	],
	"TUF_3600": [
		{
			"lang": "CN",
			"uiModelName": "TUF GAMING 小旋风",
			"CoBrand": "*"
		}
	],
	"TUF_6500": [
		{
			"lang": "CN",
			"uiModelName": "TUF GAMING 小旋风 Pro WiFi7",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_BD4": [
		{
			"lang": "CN",
			"uiModelName": "灵耀魔方 WiFi7 BE3600",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_BD4_Outdoor": [
		{
			"lang": "CN",
			"uiModelName": "灵耀魔方 无界",
			"CoBrand": "*"
		}
	],
	"ZenWiFi_BT8P": [
		{
			"lang": "CN",
			"uiModelName": "灵耀魔方Pro WiFi7 BE9400",
			"CoBrand": "*"
		}
	],
	"GS7": [
		{
			"lang": "CN",
			"uiModelName": "ROG 魔盒",
			"CoBrand": "*"
		}
	],
	"RT-BE3600M": [
		{
			"lang": "*",
			"uiModelName": "RT-BE3600M HATSUNE MIKU EDITION",
			"CoBrand": "*"
		}
	],
	"RT-BE57": [
		{
			"lang": "CN",
			"uiModelName": "天选游戏路由2 初音未来版",
			"CoBrand": "12"
		},
		{
			"lang": "CN",
			"uiModelName": "天选游戏路由2",
			"CoBrand": "11"
		}
	],
	"RT-AX57M": [
		{
			"lang": "CN",
			"uiModelName": "RT-AX57 热血版",
			"CoBrand": "11"
		},
		{
			"lang": "CN",
			"uiModelName": "RT-AX57 青春版",
			"CoBrand": "*"
		}
	]
}
let uiModelNameJson = {};

async function fetchData(url) {
	const response = await fetch(url);
	if (!response.ok) {
		throw new Error(`HTTP error! status: ${response.status}`);
	}
	const data = await response.json();
	return data;
}

async function loadData() {
	try {
		Object.assign(uiModelNameJson, LOCAL_DATA);
		window.localStorage.setItem('uiModelNameJson', JSON.stringify(uiModelNameJson));
		(async () => {
			try {
				const cloudData = await fetchData("https://nw-dlcdnet.asus.com/plugin/js/ui-model-name.json");
				Object.assign(uiModelNameJson, cloudData);
				window.localStorage.setItem('uiModelNameJson', JSON.stringify(uiModelNameJson));
			} catch (cloudError) {
				console.warn("Failed to load cloud data:", cloudError);
			}
		})();
		return uiModelNameJson;
	} catch (error) {
		console.error("Failed to load data:", error);
		throw error;
	}
}

function loadFromLocalStorage() {
	const storedData = window.localStorage.getItem('uiModelNameJson');
	if (storedData) {
		uiModelNameJson = JSON.parse(storedData);
		console.log("uiModelNameJson loaded from localStorage:", uiModelNameJson);
	}
}

async function initializeUIModelName() {
	loadFromLocalStorage();
	if (Object.keys(uiModelNameJson).length === 0) {
		await loadData();
	}
	return uiModelNameJson;
}

export { initializeUIModelName, uiModelNameJson };