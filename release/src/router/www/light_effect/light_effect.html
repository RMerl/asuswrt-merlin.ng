<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link rel="stylesheet" type="text/css" href="/light_effect/light_effect.css" />
<head>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/calendar/jquery-ui.js"></script>
<script type="text/javascript" src="/js/httpApi.js"></script>
</head>
<script >
var $light_effect_bg = $("#light_effect_bg");
var $hue_bar = $("#hue_bar");
var $hue_slider = $("#hue_slider");
var hue_click = false;
var hsl = {h:0, s:100, l:50};
var scheme_page_idx = 1;
var scheme_page_max_count = 4;
var scheme_pages = 1;
var scheme_item_post = {
	"LED_Set" : {
		"1" : {"R" : 0, "G" : 0, "B" : 128},
		"2" : {"R" : 0, "G" : 0, "B" : 128},
		"3" : {"R" : 0, "G" : 0, "B" : 128},
		"4" : {"R" : 0, "G" : 0, "B" : 128},
	},
	"Mode" : 6
}
function initial_led_control() {
	$light_effect_bg = $("#light_effect_bg");
	$hue_bar = $("#hue_bar");
	$hue_slider = $("#hue_slider");

	if(!isMobile()) {
		$hue_bar.mousedown(function(e) {
			if(e.target.id == "hue_bar") {
				hue_click = true;
				set_hue_value(e);
			}
			else {
				hue_click = true;
				$hue_slider.addClass("active");
			}
			lightl_effect_animate.clear($light_effect_bg);
		});
		$(document).mousemove(function(e) {
			if(hue_click) {
				set_hue_value(e);
			}
		});
		$(document).mouseup(function(e) {
			if(hue_click) {
				set_light_effect();
			}
		});
	}
	else {
		$hue_bar[0].addEventListener("touchstart", function (e) {
			if(e.target.id == "hue_bar") {
				hue_click = true;
				set_hue_value(e);
			}
			else {
				hue_click = true;
				$hue_slider.addClass("active");
			}
			lightl_effect_animate.clear($light_effect_bg);
		});
		document.addEventListener("touchmove", function (e) {
			if(hue_click) {
				set_hue_value(e);
			}
		});
		document.addEventListener("touchend", function (e) {
			if(hue_click) {
				set_light_effect();
			}
		});
	}

	$(".setting_enable_bg .switch").unbind("click");
	$(".setting_enable_bg .switch").click(function(e){
		e = e || event;
		e.stopPropagation();
		$(".setting_enable_bg .switch").toggleClass("off on").promise().done(function(){
			var switch_status = $(".setting_enable_bg .switch").hasClass("on");
			if(switch_status){
				$(".switch_off").show();
				if($(".scheme_bg.active").length == 0) {
					$(".scheme_bg#wave").addClass("active");
					var select_rgb = [multiply_rgb(0), multiply_rgb(0), multiply_rgb(128)];
					$light_effect_bg.css("background", "rgb("+ select_rgb[0] + ", " + select_rgb[1] + ", " + select_rgb[2] + ")");
					lightl_effect_animate.wave($light_effect_bg, select_rgb);
					scheme_item_post.Mode = "6";//wave
					$(".setting_hue").hide();
				}
				else {
					if($(".scheme_bg.active")[0].id == "static") {
						$light_effect_bg.css("background", $(".hue_slider").css("background-color"));
						scheme_item_post.Mode = "2";
					}
					if($(".scheme_bg.active")[0].id == "gradient") {
						$light_effect_bg.addClass("gradient");
						scheme_item_post.Mode = "1";
					}
					if($(".scheme_bg.active")[0].id == "rainbow") {
						$(".light_effect_bg").addClass("rainbow");
						scheme_item_post.Mode = "5";
					}
					if($(".scheme_bg.active")[0].id == "evolution") {
						$(".light_effect_bg").addClass("evolution");
						scheme_item_post.Mode = "4";
					}
					if($(".scheme_bg.active")[0].id == "breathing") {
						var select_rgb = $(".hue_slider").css("background-color").replace('rgb(', '').replace(')','' ).split(',').map(Number);
						rgbToLeft(select_rgb);
						$light_effect_bg.css("background", "rgb("+ select_rgb[0] + ", " + select_rgb[1] + ", " + select_rgb[2] + ")");
						lightl_effect_animate.breathing($light_effect_bg,select_rgb);
						scheme_item_post.Mode = "3";
					}
					if($(".scheme_bg.active")[0].id == "marquee") {
						var select_rgb = $(".hue_slider").css("background-color").replace('rgb(', '').replace(')','' ).split(',').map(Number);
						rgbToLeft(select_rgb);
						$light_effect_bg.css("background", "rgb("+ select_rgb[0] + ", " + select_rgb[1] + ", " + select_rgb[2] + ")");
						lightl_effect_animate.marquee($light_effect_bg,select_rgb);
						scheme_item_post.Mode = "7";
					}
					if($(".scheme_bg.active")[0].id == "wave") {
						var select_rgb = $(".hue_slider").css("background-color").replace('rgb(', '').replace(')','' ).split(',').map(Number);
						rgbToLeft(select_rgb);
						$light_effect_bg.css("background", "rgb("+ select_rgb[0] + ", " + select_rgb[1] + ", " + select_rgb[2] + ")");
						lightl_effect_animate.wave($light_effect_bg,select_rgb);
						scheme_item_post.Mode = "6";
					}
				}
			}
			else{
				lightl_effect_animate.clear($light_effect_bg);
				$(".switch_off").hide();
				$light_effect_bg.removeClass().addClass("light_effect_bg");
				$light_effect_bg.css("background", "initial");
				scheme_item_post.Mode = "0";
			}

			var postData = {"ledg_scheme": scheme_item_post.Mode};
			if(scheme_item_post.Mode == "2" || scheme_item_post.Mode == "3" || scheme_item_post.Mode == "7") {
				var ledg_rgb_post = [];
				Object.keys(scheme_item_post["LED_Set"]).forEach(function(led_group) {
					ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["R"] / 2));
					ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["G"] / 2));
					ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["B"] / 2));
				});
				postData["ledg_rgb"] = ledg_rgb_post.join(',');
			}
			httpApi.set_ledg(postData);
		});
	});
	$(".setting_scheme .scheme_bg").unbind("click");
	$(".setting_scheme .scheme_bg").click(function(e){
		e = e || event;
		e.stopPropagation();
		lightl_effect_animate.clear($light_effect_bg);
		$light_effect_bg.removeClass().addClass("light_effect_bg");
		$(".setting_hue").show();
		var id = e.currentTarget.id;
		var mode = e.currentTarget.getAttribute("mode");
		var hue_slider_rgb_array = $(".hue_slider").css("background-color").replace('rgb(','').replace(')','').split(',').map(Number);
		rgbToLeft(hue_slider_rgb_array);
		$light_effect_bg.css("background", "rgb("+ hue_slider_rgb_array[0] + ", " + hue_slider_rgb_array[1] + ", " + hue_slider_rgb_array[2] + ")");
		$(".setting_scheme .scheme_bg").removeClass("active");
		$(".setting_scheme #" + id + "").addClass("active");

		switch(mode) {
			case "2" ://static
				set_scheme_mode(mode, [multiply_rgb(128),multiply_rgb(0),multiply_rgb(0)]);
				break;
			case "3" ://breathing
			case "6" ://wave
			case "7" ://marquee
				set_scheme_mode(mode, [multiply_rgb(0),multiply_rgb(0),multiply_rgb(128)]);
				break;
			case "1" ://gradient
			case "4" ://evolution
			case "5" ://rainbow
				set_scheme_mode(mode);
				break;
		}
		var postData = {"ledg_scheme": scheme_item_post.Mode};
		if(scheme_item_post.Mode == "2" || scheme_item_post.Mode == "3" || scheme_item_post.Mode == "7") {
			var ledg_rgb_post = [];
			scheme_item_post["LED_Set"]["4"] = scheme_item_post["LED_Set"]["3"] = scheme_item_post["LED_Set"]["2"] = scheme_item_post["LED_Set"]["1"];
			Object.keys(scheme_item_post["LED_Set"]).forEach(function(led_group) {
				ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["R"] / 2));
				ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["G"] / 2));
				ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["B"] / 2));
			});
			postData["ledg_rgb"] = ledg_rgb_post.join(',');
		}
		httpApi.set_ledg(postData);
	});
	$(".scheme_list_bg .boundary").unbind("click");
	$(".scheme_list_bg .boundary").click(function(e){
		e = e || event;
		e.stopPropagation();
		var id = e.currentTarget.id.replace("boundary_", "");
		if(id == "left")
			scheme_page_idx = Math.max(1, (scheme_page_idx - 1));
		else if(id == "right")
			scheme_page_idx = Math.min(scheme_pages, (scheme_page_idx + 1));
		control_scheme_list(scheme_page_idx);
	});

	var ledg_scheme = httpApi.nvramGet(["ledg_scheme"], true).ledg_scheme;
	if(ledg_scheme == "2" || ledg_scheme == "3" || ledg_scheme == "7") {
		var ledg_rgb = httpApi.nvramGet(["ledg_rgb" + ledg_scheme + ""], true)["ledg_rgb" + ledg_scheme + ""];
		var ledg_rgb_array = ledg_rgb.split(",");
		scheme_item_post["LED_Set"]["1"]["R"] = multiply_rgb(parseInt(ledg_rgb_array[0]));
		scheme_item_post["LED_Set"]["1"]["G"] = multiply_rgb(parseInt(ledg_rgb_array[1]));
		scheme_item_post["LED_Set"]["1"]["B"] = multiply_rgb(parseInt(ledg_rgb_array[2]));
		scheme_item_post["LED_Set"]["4"] = scheme_item_post["LED_Set"]["3"] = scheme_item_post["LED_Set"]["2"] = scheme_item_post["LED_Set"]["1"];
	}
	else if(ledg_scheme == "6") {
		scheme_item_post["LED_Set"]["1"]["R"] = multiply_rgb(0);
		scheme_item_post["LED_Set"]["1"]["G"] = multiply_rgb(0);
		scheme_item_post["LED_Set"]["1"]["B"] = multiply_rgb(128);
		scheme_item_post["LED_Set"]["4"] = scheme_item_post["LED_Set"]["3"] = scheme_item_post["LED_Set"]["2"] = scheme_item_post["LED_Set"]["1"];
	}
	scheme_item_post.Mode = ledg_scheme;

	if(ledg_scheme == "0") {
		$(".setting_enable_bg .switch").addClass("off");
		lightl_effect_animate.clear($light_effect_bg);
		$(".switch_off").hide();
		$light_effect_bg.removeClass().addClass("light_effect_bg");
		$light_effect_bg.css("background", "initial");
	}
	else {
		$(".setting_enable_bg .switch").addClass("on");

		$(".scheme_list_bg .setting_scheme .scheme_bg[mode=" + scheme_item_post.Mode + "]").addClass("active");
		var default_rgb = [scheme_item_post["LED_Set"]["1"]["R"], scheme_item_post["LED_Set"]["1"]["G"], scheme_item_post["LED_Set"]["1"]["B"]];
		var count = 0;
		var interval_check = setInterval(function() {
			if(get_offset($hue_bar).width != 0) {
				set_scheme_mode(scheme_item_post.Mode, default_rgb);
				clearInterval(interval_check);
			}
			else {
				count++;
				if(count == 500)
					clearInterval(interval_check);
			}
		}, 1);
	}

	$(".scheme_list_bg .setting_scheme .scheme_bg").each(function(idx) {
		if($(this).hasClass("active"))
			scheme_page_idx = Math.ceil((idx + 1) / scheme_page_max_count);
	});
	scheme_pages = Math.ceil(($(".scheme_list_bg .setting_scheme .scheme_bg").length / scheme_page_max_count));
	control_scheme_list(scheme_page_idx);
}
function set_scheme_mode(_type, _rgbArr){
	switch(_type) {
		case "2" :
			rgbToLeft(_rgbArr);
			$light_effect_bg.css("background", "rgb("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ")");
			scheme_item_post["LED_Set"]["1"]["R"] = _rgbArr[0];
			scheme_item_post["LED_Set"]["1"]["G"] = _rgbArr[1];
			scheme_item_post["LED_Set"]["1"]["B"] = _rgbArr[2];
			scheme_item_post.Mode = "2";//static
			break;
		case "3" :
			rgbToLeft(_rgbArr);
			$light_effect_bg.css("background", "rgb("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ")");
			lightl_effect_animate.breathing($light_effect_bg, _rgbArr);
			scheme_item_post["LED_Set"]["1"]["R"] = _rgbArr[0];
			scheme_item_post["LED_Set"]["1"]["G"] = _rgbArr[1];
			scheme_item_post["LED_Set"]["1"]["B"] = _rgbArr[2];
			scheme_item_post.Mode = "3";//breathing
			break;
		case "6" :
			rgbToLeft(_rgbArr);
			$light_effect_bg.css("background", "rgb("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ")");
			lightl_effect_animate.wave($light_effect_bg, _rgbArr);
			scheme_item_post.Mode = "6";//wave
			$(".setting_hue").hide();
			break;
		case "7" :
			rgbToLeft(_rgbArr);
			$light_effect_bg.css("background", "rgb("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ")");
			lightl_effect_animate.marquee($light_effect_bg, _rgbArr);
			scheme_item_post["LED_Set"]["1"]["R"] = _rgbArr[0];
			scheme_item_post["LED_Set"]["1"]["G"] = _rgbArr[1];
			scheme_item_post["LED_Set"]["1"]["B"] = _rgbArr[2];
			scheme_item_post.Mode = 7;//marquee
			break;
		case "1" :
			$light_effect_bg.addClass("gradient");
			$(".setting_hue").hide();
			scheme_item_post.Mode = "1";//gradient
			break;
		case "4" :
			$light_effect_bg.addClass("evolution");
			$(".setting_hue").hide();
			scheme_item_post.Mode = "4";//evolution
			break;
		case "5" :
			$light_effect_bg.addClass("rainbow");
			$(".setting_hue").hide();
			scheme_item_post.Mode = "5";//rainbow
			break;
	}
}
function isMobile() {
	if( navigator.userAgent.match(/iPhone/i) ||
		navigator.userAgent.match(/iPod/i)    ||
		navigator.userAgent.match(/iPad/i)    ||
		(navigator.userAgent.match(/Android/i) && (navigator.userAgent.match(/Mobile/i) || navigator.userAgent.match(/Tablet/i))) ||
		(navigator.userAgent.match(/Opera/i) && (navigator.userAgent.match(/Mobi/i) || navigator.userAgent.match(/Mini/i))) ||
		navigator.userAgent.match(/IEMobile/i)  ||
		navigator.userAgent.match(/BlackBerry/i) ||
		navigator.userAgent.match(/asusrouter/i)
	)
		return true;
	else
		return false;
}
var color_converter = {
	"RGBtoHSL" : function(rgbArr) {
		var R = rgbArr[0] / 255;
		var G = rgbArr[1] / 255;
		var B = rgbArr[2] / 255;
		var maxColor = Math.max(R,G,B);
		var minColor = Math.min(R,G,B);
		var L = (maxColor + minColor) / 2;
		var S = 0;
		var H = 0;
		var HSL = [];
		if(maxColor != minColor) {
			if(L < 0.5)
				S = (maxColor - minColor) / (maxColor + minColor);
			else
				S = (maxColor - minColor) / (2.0 - maxColor - minColor);

			if(R == maxColor)
				H = (G - B) / (maxColor - minColor);
			else if(G == maxColor)
				H = 2.0 + (B - R) / (maxColor - minColor);
			else
				H = 4.0 + (R - G) / (maxColor - minColor);
		}

		L = Math.round(L * 100);
		S = Math.round(S * 100);
		H = Math.round(H * 60);
		if(H < 0)
			H += 360;

		HSL = [H, S, L];
		return HSL;
	},
	"RGBtoHEX" : function(rgbArr) {
		var R = rgbArr[0].toString(16);
		var G = rgbArr[1].toString(16);
		var B = rgbArr[2].toString(16);
		R.length == 1 ? R = "0" + R : R;
		G.length == 1 ? G = "0" + G : G;
		B.length == 1 ? B = "0" + B : B;
		return "#" + R + G + B;
	},
	"HSLtoRGB" : function(hslArr) {
		var H = hslArr[0] / 360;
		var S = hslArr[1] / 100;
		var L = hslArr[2] / 100;
		var RGB = [];
		if(S == 0)
			RGB = [Math.round(L*255),Math.round(L*255),Math.round(L*255)];
		else{
			var q = L >= 0.5 ? (L + S - L * S) : (L * (1 + S));
			var p = 2 * L - q;
			var tr = RGB[0] = H + 1 / 3;
			var tg = RGB[1] = H;
			var tb = RGB[2] = H - 1 / 3;
			for(var i = 0; i < RGB.length; i++) {
				var tc = RGB[i];
				if(tc < 0)
					tc = tc + 1;
				else if(tc > 1)
					tc = tc - 1;
				switch(true) {
					case (tc < (1 / 6)):
						tc = p + (q - p) * 6 * tc;
						break;
					case ((1 / 6) <= tc && tc < 0.5):
						tc = q;
						break;
					case (0.5 <= tc && tc < (2 / 3)):
						tc = p + (q - p) * (4 - 6 * tc);
						break;
					default:
						tc = p;
						break;
				}
				RGB[i] = Math.round(tc * 255);
			}
		}
		return RGB;
	},
};
function get_offset(element) {
	var y = parseInt(element[0].getBoundingClientRect().top);
	var x = parseInt(element[0].getBoundingClientRect().left);
	var height = parseInt(element[0].offsetHeight);
	var width = parseInt(element[0].offsetWidth);
	return {"x": x, "y": y, "height": height, "width": width};
}
function set_hue_value(e) {
	var x = 0;
	var left = 0;
	if(isMobile())
		x = e.touches[0].pageX - get_offset($hue_bar).x;
	else
		x = e.pageX - get_offset($hue_bar).x;
	left = Math.max(Math.min(x, get_offset($hue_bar).width),0);
	$hue_slider.css("left", left);
	$hue_slider.addClass("active");
	hsl.h = Math.round(parseInt($hue_slider.css("left")) / get_offset($hue_bar).width * 360);
	if(hsl.h == 360)
		hsl.h = 359;//avoid slider same as 255,0,0
	$hue_slider.css("background" , "hsl(" + hsl.h + ", " + hsl.s + "%" + ", " + hsl.l + "%" + ")");
	$light_effect_bg.css("background" , "hsl(" + hsl.h + ", " + hsl.s + "%" + ", " + hsl.l + "%" + ")");
}
function set_light_effect() {
	var select_rgb = $(".hue_slider").css("background-color").replace('rgb(', '').replace(')','' ).split(',').map(Number);
	$hue_slider.removeClass("active");
	hue_click = false;
	if($(".scheme_bg.active")[0].id == "breathing") {
		rgbToLeft(select_rgb);
		$light_effect_bg.css("background", "rgb("+ select_rgb[0] + ", " + select_rgb[1] + ", " + select_rgb[2] + ")");
		lightl_effect_animate.breathing($light_effect_bg, select_rgb);
	}
	if($(".scheme_bg.active")[0].id == "marquee") {
		rgbToLeft(select_rgb);
		$light_effect_bg.css("background", "rgb("+ select_rgb[0] + ", " + select_rgb[1] + ", " + select_rgb[2] + ")");
		lightl_effect_animate.marquee($light_effect_bg, select_rgb);
	}
	if($(".scheme_bg.active")[0].id == "wave") {
		rgbToLeft(select_rgb);
		$light_effect_bg.css("background", "rgb("+ select_rgb[0] + ", " + select_rgb[1] + ", " + select_rgb[2] + ")");
		lightl_effect_animate.wave($light_effect_bg, select_rgb);
	}

	var postData = {"ledg_scheme": scheme_item_post.Mode};
	if(scheme_item_post.Mode == "2" || scheme_item_post.Mode == "3" || scheme_item_post.Mode == "7") {
		scheme_item_post["LED_Set"]["1"]["R"] = select_rgb[0];
		scheme_item_post["LED_Set"]["1"]["G"] = select_rgb[1];
		scheme_item_post["LED_Set"]["1"]["B"] = select_rgb[2];
		scheme_item_post["LED_Set"]["4"] = scheme_item_post["LED_Set"]["3"] = scheme_item_post["LED_Set"]["2"] = scheme_item_post["LED_Set"]["1"];
		var ledg_rgb_post = [];
		Object.keys(scheme_item_post["LED_Set"]).forEach(function(led_group) {
			ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["R"] / 2));
			ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["G"] / 2));
			ledg_rgb_post.push(Math.ceil(scheme_item_post["LED_Set"][led_group]["B"] / 2));
		});
		postData["ledg_rgb"] = ledg_rgb_post.join(',');
	}
	httpApi.set_ledg(postData);
}
function rgbToLeft(_rgb) {
	var hsl_array = color_converter.RGBtoHSL(_rgb);
	hsl.h = hsl_array[0];
	hsl.s = 100;
	hsl.l = 50;
	var left = Math.round((parseInt(hsl.h) / 360) * get_offset($hue_bar).width);
	$hue_slider.css("left", left);
	$hue_slider.css("background" , "hsl(" + hsl.h + ", " + hsl.s + "%" + ", " + hsl.l + "%" + ")");
	$light_effect_bg.css("background" , "hsl(" + hsl.h + ", " + hsl.s + "%" + ", " + hsl.l + "%" + ")");
}
var lightl_effect_animate = {
	"interval" : false,
	"breathing" : function(_obj, _rgbArr) {
		var breathing_color = function(_obj, _rgbArr) {
			_obj.animate({
				backgroundColor: "rgba("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ", 1)"
			}, 1000);

			_obj.animate({
				backgroundColor: "rgba("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ", 0.2)"
			}, 1000);

		};
		breathing_color(_obj, _rgbArr);
		lightl_effect_animate.interval = setInterval(function(){
			breathing_color(_obj, _rgbArr);
		},2000);
	},
	"marquee" : function(_obj, _rgbArr) {
		var percent_init = 0;
		var percent_end = 100;
		var marquee_color = function(_obj, _rgbArr) {
			var min = middle = max = 0;
			min = Math.max(0, (percent_init - 30));
			middle = percent_init;
			max = Math.min(100, (percent_init + 30));
			_obj.css("background", "linear-gradient(to right, rgb(0, 0, 0) " + min + "%, rgb("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ") " + middle + "%, rgb(0, 0, 0) " + max + "%)");
		};
		marquee_color(_obj, _rgbArr);
		lightl_effect_animate.interval = setInterval(function(){
			percent_init += 10;
			marquee_color(_obj, _rgbArr);
			if(percent_init >= 100)
				percent_init = 0;
		},200);
	},
	"wave" : function(_obj, _rgbArr) {
		var percent_init = 0;
		var percent_end = 100;
		var wave_color = function(_obj, _rgbArr) {
			_obj.css("background", "linear-gradient(to right, rgb(0, 0, 0) 0%, rgb("+ _rgbArr[0] + ", " + _rgbArr[1] + ", " + _rgbArr[2] + ") " + percent_init + "%, rgb(0, 0, 0) 100%)");
		};
		wave_color(_obj, _rgbArr);
		lightl_effect_animate.interval = setInterval(function(){
			percent_init += 10;
			wave_color(_obj, _rgbArr);
			if(percent_init >= 100)
				percent_init = 0;
		},150);
	},
	"clear" : function(_obj) {
		clearInterval(lightl_effect_animate.interval);
		_obj.stop(true,true);
	}
}
function control_scheme_list(_idx) {
	var start_idx = ((_idx -1 ) * scheme_page_max_count);
	$(".setting_scheme .scheme_bg").hide();
	for(var i = ((_idx -1 ) * scheme_page_max_count); i < ((_idx -1 ) * scheme_page_max_count) + scheme_page_max_count ; i += 1) {
		$(".setting_scheme .scheme_bg").eq(i).show();
	}
	$(".scheme_list_bg .boundary").addClass("arrow");
	if(_idx == 1)
		$(".scheme_list_bg #boundary_left").removeClass("arrow");
	if(_idx == scheme_pages)
		$(".scheme_list_bg #boundary_right").removeClass("arrow");
}
function multiply_rgb(_value) {
	return (Math.ceil(_value * 2) > 255) ? 255 : Math.ceil(_value * 2);
}
$(document).ready(initial_led_control);
</script>
<body style="margin:initial;">
<div class="light_effect_bg" id="light_effect_bg">
	<span>All by your style</span><!-- untranslated -->
	<span>Light Effect</span><!-- untranslated -->
	<div class="light_effect_mask"></div>
</div>
<div class="light_effect_setting_bg">
	<div class="setting_enable_bg">
		<div class="text"><span><#WLANConfig11b_WirelessCtrl_button1name#></span></div>
		<div class="switch"></div>
		<div class="schedule"></div>
	</div>
	<div class="switch_off">
		<div class="horizontal_line "></div>
		<div class="scheme_list_bg">
			<div id="boundary_left" class="boundary arrow"></div>
			<div class="setting_scheme">
				<div id="static" class="scheme_bg" mode="2">
					<div class="icon"></div>
					<div class="text">Static</div>
				</div>
				<div id="breathing" class="scheme_bg" mode="3">
					<div class="icon"></div>
					<div class="text">Breathing</div>
				</div>
				<div id="wave" class="scheme_bg" mode="6">
					<div class="icon"></div>
					<div class="text">Wave</div>
				</div>
				<div id="marquee" class="scheme_bg" mode="7">
					<div class="icon"></div>
					<div class="text">Marquee</div>
				</div>
				<div id="gradient" class="scheme_bg" mode="1">
					<div class="icon"></div>
					<div class="text">Gradient</div>
				</div>
				<div id="evolution" class="scheme_bg" mode="4">
					<div class="icon"></div>
					<div class="text">Evolution</div>
				</div>
				<div id="rainbow" class="scheme_bg"mode="5">
					<div class="icon"></div>
					<div class="text">Rainbow</div>
				</div>
				<div class="scheme_bg"></div>
			</div>
			<div id="boundary_right" class="boundary arrow"></div>
		</div>
		<div class="horizontal_line"></div>
		<div class="setting_hue">
			<div class="hue_bar" id="hue_bar">
				<div class="hue_slider" id="hue_slider"></div>
			</div>
			<div class="hue_bar_mask"></div>
		</div>
	</div>
</div>
</body>